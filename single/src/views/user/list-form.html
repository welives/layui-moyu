<div
  class="layui-form layui-form-pane"
  id="LAY-id-userList-form"
  lay-filter="LAY-filter-userList-form"
  style="padding: 20px 20px 0;"
>
  <div class="layui-form-item">
    <label class="layui-form-label">用户名</label>
    <div class="layui-input-inline">
      <script type="text/html" template>
        <input type="text" class="layui-input" name="username" value="{{ d.params.username || '' }}" lay-verify="required" placeholder="请输入用户名" autocomplete="off" />
      </script>
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">手机号码</label>
    <div class="layui-input-inline">
      <script type="text/html" template>
        <input type="text" class="layui-input" name="phone" value="{{ d.params.phone || '' }}" lay-verify="phone" placeholder="请输入手机号码" autocomplete="off" />
      </script>
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">邮箱</label>
    <div class="layui-input-inline">
      <script type="text/html" template>
        <input type="text" class="layui-input" name="email" value="{{ d.params.email || '' }}" lay-verify="email" placeholder="请输入邮箱" autocomplete="off" />
      </script>
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">头像</label>
    <div class="layui-input-inline">
      <script type="text/html" template>
        <input type="text" class="layui-input layui-disabled" name="avatar" value="{{ d.params.avatar || '' }}" lay-verify="required" placeholder="请上传图片" autocomplete="off" />
      </script>
    </div>
    <button type="button" class="layui-btn layui-float-left" id="LAY-id-upload-user">
      上传图片
    </button>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">选择性别</label>
    <div class="layui-input-block">
      <script type="text/html" template>
        {{# if(d.params.sex){ }}
        <input type="radio" name="sex" value="男" title="男" {{ d.params.sex === '男' ? 'checked' : '' }} />
        <input type="radio" name="sex" value="女" title="女" {{ d.params.sex === '女' ? 'checked' : '' }} />
        {{# } else { }}
        <input type="radio" name="sex" value="男" title="男" checked />
        <input type="radio" name="sex" value="女" title="女" />
        {{# } }}
      </script>
    </div>
  </div>
  <div class="layui-form-item layui-text-center">
    <button class="layui-btn" id="LAY-id-user-submit" lay-submit lay-filter="LAY-filter-user-submit">
      提交
    </button>
  </div>
</div>
<script>
  layui.use(['form', 'upload'], () => {
    let $ = layui.$,
      form = layui.form,
      upload = layui.upload

    // 上传头像
    upload.render({
      elem: '#LAY-id-upload-user',
      url: '/single/json/upload/demo.json',
      accept: 'images',
      method: 'get',
      acceptMime: 'image/*',
      done(res) {
        $(this.item).prev('div').children('input').val(res.data.src)
      },
    })
  })
</script>
