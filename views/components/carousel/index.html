<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>轮播</title>
    <meta name="renderer" content="webkit" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta http-equiv="Access-Control-Allow-Origin" content="*" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0 minimum-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link
      rel="stylesheet"
      href="../../../layuiadmin/layui/css/layui.css"
      media="all"
    />
    <link
      rel="stylesheet"
      href="../../../layuiadmin/style/public.css"
      media="all"
    />
    <style>
      div[carousel-item] > * {
        text-align: center;
        line-height: 280px;
        color: #666666;
      }
      div[carousel-item] > *:nth-child(2n) {
        background-color: #e2e2e2;
      }
      div[carousel-item] > *:nth-child(2n + 1) {
        background-color: #eee;
      }
      #LAY-carousel-normal-2 div[carousel-item] > * {
        line-height: 120px;
      }
    </style>
  </head>
  <body>
    <div class="layui-fluid">
      <div class="layui-row layui-col-space10">
        <div class="layui-col-md12">
          <div class="layui-card">
            <div class="layui-card-header">常规轮播</div>
            <div class="layui-card-body">
              <div
                class="layui-carousel"
                id="LAY-carousel-normal-1"
                lay-filter="LAY-carousel-normal-1"
              >
                <div carousel-item>
                  <div>条目1</div>
                  <div>条目2</div>
                  <div>条目3</div>
                  <div>条目4</div>
                  <div>条目5</div>
                </div>
              </div>
              <div
                class="layui-carousel"
                id="LAY-carousel-normal-2"
                lay-filter="LAY-carousel-normal-2"
                style="margin-top: 15px;"
              >
                <div carousel-item>
                  <div>条目1</div>
                  <div>条目2</div>
                </div>
              </div>
            </div>
          </div>
          <div class="layui-card">
            <div class="layui-card-header">设定各种参数</div>
            <div class="layui-card-body">
              <div class="layui-form">
                <div class="layui-form-item">
                  <label class="layui-form-label">宽高</label>
                  <div class="layui-input-inline" style="width: 98px;">
                    <input
                      type="tel"
                      class="layui-input LAY-carousel-set"
                      name="width"
                      value="600"
                      autocomplete="off"
                      placeholder="width"
                    />
                  </div>
                  <div class="layui-input-inline" style="width: 98px;">
                    <input
                      type="tel"
                      class="layui-input LAY-carousel-set"
                      name="height"
                      value="280"
                      autocomplete="off"
                      placeholder="height"
                    />
                  </div>
                </div>
                <div class="layui-form-item">
                  <label class="layui-form-label">动画类型</label>
                  <div class="layui-input-block">
                    <div
                      class="layui-btn-group LAY-carousel-param"
                      style="margin-top: 5px;"
                    >
                      <button
                        class="layui-btn layui-btn-sm"
                        style="background-color: #42b983;"
                        data-type="set"
                        data-key="anim"
                        data-value="default"
                      >
                        左右切换
                      </button>
                      <button
                        class="layui-btn layui-btn-sm"
                        data-type="set"
                        data-key="anim"
                        data-value="updown"
                      >
                        上下切换
                      </button>
                      <button
                        class="layui-btn layui-btn-sm"
                        data-type="set"
                        data-key="anim"
                        data-value="fade"
                      >
                        渐隐渐显
                      </button>
                    </div>
                  </div>
                </div>
                <div class="layui-form-item">
                  <label class="layui-form-label">箭头状态</label>
                  <div class="layui-input-block">
                    <div
                      class="layui-btn-group LAY-carousel-param"
                      style="margin-top: 5px;"
                    >
                      <button
                        class="layui-btn layui-btn-sm"
                        style="background-color: #42b983;"
                        data-type="set"
                        data-key="arrow"
                        data-value="hover"
                      >
                        悬停显示
                      </button>
                      <button
                        class="layui-btn layui-btn-sm"
                        data-type="set"
                        data-key="arrow"
                        data-value="always"
                      >
                        始终显示
                      </button>
                      <button
                        class="layui-btn layui-btn-sm"
                        data-type="set"
                        data-key="arrow"
                        data-value="none"
                      >
                        不显示
                      </button>
                    </div>
                  </div>
                </div>
                <div class="layui-form-item">
                  <label class="layui-form-label">指示器位置</label>
                  <div class="layui-input-block">
                    <div
                      class="layui-btn-group LAY-carousel-param"
                      style="margin-top: 5px;"
                    >
                      <button
                        class="layui-btn layui-btn-sm"
                        style="background-color: #42b983;"
                        data-type="set"
                        data-key="indicator"
                        data-value="inside"
                      >
                        容器内部
                      </button>
                      <button
                        class="layui-btn layui-btn-sm"
                        data-type="set"
                        data-key="indicator"
                        data-value="outside"
                      >
                        容器外部
                      </button>
                      <button
                        class="layui-btn layui-btn-sm"
                        data-type="set"
                        data-key="indicator"
                        data-value="none"
                      >
                        不显示
                      </button>
                    </div>
                  </div>
                </div>
                <div class="layui-form-item">
                  <div class="layui-inline">
                    <label class="layui-form-label">自动切换</label>
                    <div class="layui-input-block">
                      <input
                        type="checkbox"
                        class="layui-input"
                        name="switch"
                        lay-skin="switch"
                        lay-text="ON|OFF"
                        lay-filter="LAY-carousel-autoplay"
                        checked
                      />
                    </div>
                  </div>
                  <div class="layui-inline">
                    <label class="layui-form-label">时间间隔</label>
                    <div class="layui-input-block">
                      <input
                        type="tel"
                        class="layui-input LAY-carousel-set"
                        name="interval"
                        value="3000"
                        autocomplete="off"
                        placeholder="毫秒"
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div
                class="layui-carousel"
                id="LAY-carousel-param"
                lay-filter="LAY-carousel-param"
              >
                <div carousel-item>
                  <div>条目1</div>
                  <div>条目2</div>
                  <div>条目3</div>
                  <div>条目4</div>
                  <div>条目5</div>
                </div>
              </div>
            </div>
          </div>
          <div class="layui-card">
            <div class="layui-card-header">填充轮播元素 - 以图片为例</div>
            <div class="layui-card-body">
              <div class="layui-carousel" id="LAY-carousel-img">
                <div carousel-item>
                  <div>
                    <img
                      src="https://wx4.sinaimg.cn/mw600/0085KTY1gy1ggk0kja8q0j30h80ac75x.jpg"
                      alt=""
                    />
                    <img
                      src="https://wx2.sinaimg.cn/mw600/0085KTY1gy1ggk0bwblttj30ik0dwjth.jpg"
                      alt=""
                    />
                    <img
                      src="https://wx3.sinaimg.cn/mw600/006z09Zkly1fyp78at3cgj313i0qa40l.jpg"
                      alt=""
                    />
                    <img
                      src="http://ww1.sinaimg.cn/mw600/9f0b0dd5ly1ggjufeyh6zj20mj0ctwig.jpg"
                      alt=""
                    />
                    <img
                      src="https://wx3.sinaimg.cn/mw600/0085KTY1gy1ggjqoliwb4j31c00u01kx.jpg"
                      alt=""
                    />
                    <img
                      src="http://ww1.sinaimg.cn/mw600/00745YaMgy1ggjeqx1popj30kk0feaay.jpg"
                      alt=""
                    />
                    <img
                      src="http://ww1.sinaimg.cn/mw600/00745YaMgy1ggjeqx4ne9j30kk0bk761.jpg"
                      alt=""
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="../../../layuiadmin/layui/layui.js"></script>
    <script>
      layui
        .config({
          base: '../../../layuiadmin/',
        })
        .extend({
          index: 'lib/index',
        })
        .use(['index', 'carousel', 'form'], () => {
          let $ = layui.$,
            form = layui.form,
            carousel = layui.carousel

          // 常规轮播
          carousel.render({
            elem: '#LAY-carousel-normal-1',
            arrow: 'always',
          })
          // 改变下时间间隔、动画类型、高度
          carousel.render({
            elem: '#LAY-carousel-normal-2',
            interval: 1800,
            anim: 'fade',
            height: '120px',
          })
          // 设定各种参数
          let ins = carousel.render({
            elem: '#LAY-carousel-param',
          })
          // 图片轮播
          carousel.render({
            elem: '#LAY-carousel-img',
            width: '778px',
            height: '440px',
            interval: 5000,
          })

          // 事件
          carousel.on('change(LAY-carousel-param)', (res) => {
            console.log(res)
          })

          let event = {
            set(othis) {
              let key = othis.data('key'),
                options = {}

              othis
                .css('background-color', '#42b983')
                .siblings()
                .removeAttr('style')
              options[key] = othis.data('value')
              ins.reload(options)
            },
          }

          // 监听开关
          form.on('switch(LAY-carousel-autoplay)', function () {
            ins.reload({
              autoplay: this.checked,
            })
          })

          $('.LAY-carousel-set').on('keyup', function () {
            let value = this.value,
              options = {}
            if (!/^\d+$/.test(value)) return

            options[this.name] = value
            ins.reload(options)
          })

          $('.LAY-carousel-param .layui-btn').on('click', function () {
            let type = $(this).data('type')
            event[type] && event[type].call(this, $(this))
          })
        })
    </script>
  </body>
</html>
