<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>layuiAdmin 帖子管理 iframe 框</title>
    <meta name="renderer" content="webkit" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta http-equiv="Access-Control-Allow-Origin" content="*" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0 minimum-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link
      rel="stylesheet"
      href="../../../layuiadmin/layui/css/layui.css"
      media="all"
    />
  </head>
  <body>
    <div
      class="layui-form"
      id="LAY-app-forum-listform"
      lay-filter="LAY-app-forum-listform"
      style="padding-top: 20px;"
    >
      <div class="layui-form-item">
        <label class="layui-form-label">发帖人</label>
        <div class="layui-input-inline">
          <input
            type="text"
            class="layui-input"
            name="poster"
            lay-verify="required"
            placeholder="请输入"
            autocomplete="off"
          />
        </div>
      </div>
      <div class="layui-form-item">
        <label class="layui-form-label">置顶</label>
        <div class="layui-input-inline">
          <input
            type="checkbox"
            class="layui-input"
            name="top"
            lay-verify="required"
            lay-skin="switch"
            lay-text="置顶|正常"
          />
        </div>
      </div>
      <div class="layui-form-item">
        <label class="layui-form-label">头像</label>
        <div class="layui-input-inline">
          <input
            type="text"
            class="layui-input"
            name="avatar"
            placeholder="请上传图片"
            autocomplete="off"
          />
        </div>
        <button class="layui-btn" id="LAY-upload-img">上传图片</button>
      </div>
      <div class="layui-form-item">
        <label class="layui-form-label">发帖内容</label>
        <div class="layui-input-block">
          <textarea
            name="content"
            lay-verify="required"
            class="layui-textarea"
            placeholder="请输入"
            style="width: 400px;"
          ></textarea>
        </div>
      </div>
      <div class="layui-form-item layui-hide">
        <button
          class="layui-btn"
          lay-submit
          lay-filter="LAY-app-forum-listform-submit"
          id="LAY-app-forum-listform-submit"
        >
          提交
        </button>
      </div>
    </div>
    <script src="../../../layuiadmin/layui/layui.js"></script>
    <script>
      layui
        .config({
          base: '../../../layuiadmin/',
        })
        .extend({
          index: 'lib/index',
        })
        .use(['index', 'form', 'upload'], () => {
          let $ = layui.$,
            upload = layui.upload

          upload.render({
            elem: '#LAY-upload-img',
            url: layui.setter.base + 'json/upload/demo.json',
            accept: 'images',
            method: 'get',
            acceptMime: 'image/*',
            done(res) {
              $(this.item).prev('div').children('input').val(res.data.src)
            },
          })
        })
    </script>
  </body>
</html>
