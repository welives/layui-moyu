<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>添加/编辑用户</title>
    <meta name="renderer" content="webkit" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0 minimum-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="stylesheet" href="../../../layui/css/layui.css" media="all" />
  </head>
  <body>
    <div
      class="layui-form"
      id="LAY-form-user"
      lay-filter="LAY-filter-form-user"
      style="padding: 20px 30px 0 0;"
    >
      <div class="layui-form-item">
        <label class="layui-form-label">用户名</label>
        <div class="layui-input-inline">
          <input
            type="text"
            class="layui-input"
            name="username"
            lay-verify="required"
            placeholder="请输入用户名"
            autocomplete="off"
          />
        </div>
      </div>
      <div class="layui-form-item">
        <label class="layui-form-label">手机号码</label>
        <div class="layui-input-inline">
          <input
            type="text"
            class="layui-input"
            name="phone"
            lay-verify="phone"
            placeholder="请输入手机号码"
            autocomplete="off"
          />
        </div>
      </div>
      <div class="layui-form-item">
        <label class="layui-form-label">邮箱</label>
        <div class="layui-input-inline">
          <input
            type="text"
            class="layui-input"
            name="email"
            lay-verify="email"
            placeholder="请输入邮箱"
            autocomplete="off"
          />
        </div>
      </div>
      <div class="layui-form-item">
        <label class="layui-form-label">头像</label>
        <div class="layui-input-inline">
          <input
            type="text"
            class="layui-input layui-disabled"
            name="avatar"
            lay-verify="required"
            placeholder="请上传图片"
            autocomplete="off"
          />
        </div>
        <button
          type="button"
          class="layui-btn layui-float-left"
          id="LAY-upload-user"
        >
          上传图片
        </button>
      </div>
      <div class="layui-form-item">
        <label class="layui-form-label">选择性别</label>
        <div class="layui-input-block">
          <input type="radio" name="sex" value="男" title="男" checked />
          <input type="radio" name="sex" value="女" title="女" />
        </div>
      </div>
      <div class="layui-form-item layui-hide">
        <button
          class="layui-btn"
          lay-submit
          lay-filter="LAY-filter-user-submit"
          id="LAY-user-submit"
        >
          提交
        </button>
      </div>
    </div>
    <script src="../../../layui/layui.js"></script>
    <script>
      layui
        .config({
          base: '../../../src/',
        })
        .use(['index', 'form', 'upload'], () => {
          let $ = layui.$,
            form = layui.form,
            upload = layui.upload

          // 上传头像
          upload.render({
            elem: '#LAY-upload-user',
            url: '/iframe/json/upload/demo.json',
            accept: 'images',
            method: 'get',
            acceptMime: 'image/*',
            done(res) {
              $(this.item).prev('div').children('input').val(res.data.src)
            },
          })
        })
    </script>
  </body>
</html>
